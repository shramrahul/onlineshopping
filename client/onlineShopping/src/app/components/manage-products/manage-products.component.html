
<div class= "container">
  <div class="row">
    <div class="col-md-offset-2 col-md-8">
        <div class="panel panel-primary">
            <div class="panel-heading">

                <h4>Product Management</h4>
      
              </div>

              <div class="panel-body">

                <form class="form-horizontal">

                  <div class="form-group" >
                    <label class="control-label col-md-4" for ="name" >Enter Product Name</label>
                      <div class="col-md-8" >
                        <input type="text" 
                                [(ngModel)]="product.name" 
                                [ngModelOptions]="{standalone: true}" 
                                name="name" id="name" 
                                placeholder="Product Name" 
                                class="form-control"/>
                    </div>
                 </div>


                    <div class="form-group" >
                        <label class="control-label col-md-4" for ="brand" >Enter Brand Name</label>
                          <div class="col-md-8" >
                            <input type="text" [(ngModel)]="product.brand" [ngModelOptions]="{standalone: true}" name="brand" id="brand" placeholder="Brand name" class="form-control"/>
                        </div>
                    </div>


                    <div class="form-group" >
                        <label class="control-label col-md-4" for ="description" >Enter Description</label>
                          <div class="col-md-8" >
                            <textarea rows="3" [(ngModel)]="product.description" [ngModelOptions]="{standalone: true}" name="description" id="description" placeholder="" class="form-control"></textarea>
                        </div>
                    </div>


                    <div class="form-group" >
                        <label class="control-label col-md-4" for ="brand" >Enter Unit Price</label>
                          <div class="col-md-8" >
                            <input type="text" [(ngModel)]="product.unitPrice" [ngModelOptions]="{standalone: true}"  name="unitprice" id="unit-price" placeholder="Enter unit price" class="form-control"/>
                        </div>
                    </div>


                    <div class="form-group" >
                        <label class="control-label col-md-4" for ="brand" >Enter Quantity</label>
                          <div class="col-md-8" >
                              <input type="text" [(ngModel)]="product.quantity" [ngModelOptions]="{standalone: true}" name="quantity" id="quantity" placeholder="Enter Quantity Number" class="form-control"/>
                        </div>
                    </div>


                    <div class="form-group" >
                        <label class="control-label col-md-4" for ="category" >Select Category</label>
                          <div class="col-md-8" >
                              <select [(ngModel)]="product.category" [ngModelOptions]="{standalone: true}" class="custom-select custom-select-lg mb-3" placeholde="Open this select menu"
                                ng-repeat="category of categories" ng-value="product.categoty"
                              >
                                  <option *ngFor="let category of categories" value="{{category.name}}">{{category.name}}</option>
                                </select>
                        </div>
                    </div>
                    
                   

                    <div class="form-group" >

                          <span class="col-md-offset-4 col-md-8 " >
                            <input type="submit" name="submit" id="submit" (click)= "onClickSubmit(product)" placeholder="Submit" class="btn btn-primary"/>
                        
                            
                            <button *ngIf="product.code==null" type="submit" name="A" class= "btn btn-warning" type="button" data-toggle="modal" data-target="#categoryModal" >Add Category</button>
                        </span>

                   </div>


                </form>
              </div>

          </div>
      </div>
    </div>

<!--Available products section-->
    <div class="" >

        <h1 class="my-4">Available Products</h1>
        <table class="table table-striped display" id="admin-products" >
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Brand</th>
                <th scope="col">Price</th>
                <th scope="col">Quantity</th>
                <th scope="col">Active</th>
                <th scope="col">Edit</th>
              </tr>
            </thead>
            <tbody>
             <tr *ngFor="let product of products" >
                <td ><img id="image" src="../../assets/images/phone.png"></td>
                <td>{{product.name}}</td>
                <td>{{product.brand}}</td>
                <td>{{product.unitPrice}}</td>
                <td>
                  <span *ngIf="product.quantity==0" class="text-danger"> out of stock</span>
                  <span *ngIf="product.quantity>0">{{product.quantity}}</span>
                </td>
                <td>
                  
                    <ng-container>
                      <span (click)="onClickActiveDeactiveButtonOf(product)">
                            <span *ngIf="product.active">
                              <button class="btn btn-sm btn-success">activate</button>
                            </span>
                            <span *ngIf="!product.active">
                              <button class="btn btn-sm btn-danger" >deactivate</button>
                            </span>
                    </span>
                      </ng-container>

                </td>
                <td>
                  <button (click)="onClickEditButton(product)" class="btn btn-sm btn-warning"><span class="glyphicon glyphicon-pencil"></span></button>
              </td>
             </tr>
            </tbody>
          </table>
    
      </div>
    
  <!--Category modal form-->
  <div class="modal fade" id="categoryModal" role="dialog" tabindex="-1">
    <div class="modal-dialog" role="document">
      <div class= "modal-content">
        <div class="modal-header">
            <h4 class="modal-title">Add New Category</h4>
          <button type="button" class="close" data-dismiss="modal">
            <span>&times;</span>
          </button>
         
          </div>

          <div class="modal-form">
              <!--Category Form-->
              <form class="form-horizontal">
               <div class="form-group">
                <label for="category_name" class="control-label col-md-4"  >Category Name</label>
                <div class="col-md-7" >
                  <input type="text" id="category_name" class="form-control" [(ngModel)]="category.name" [ngModelOptions]="{standalone: true}" >
                  </div>
                </div>


                <div class="form-group">
                    <label for="category_description" class="control-label col-md-4"  >Description</label>
                    <div class="col-md-7" >
                      <textarea type="text" id="category_description" class="form-control" rows="4" [(ngModel)]="category.description" [ngModelOptions]="{standalone: true}"></textarea>
                      </div>
                    </div>


                    <div class="form-group">
                        <div class="col-md-offset-4 col-md-4 " >
                          <input type="submit" (click)="onClickSUbmitNewCategory()" id="category_submit" value="Add Category" class=" btn btn-primary" />
                          </div>
                        </div>

              </form>
          </div>
        </div>
      </div>
      </div>

    </div>
  
  

  